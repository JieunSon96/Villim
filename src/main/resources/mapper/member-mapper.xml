<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" 
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">


<mapper namespace="Member">
<select id="printProfile" parameterType="Member" resultType="Member">

select * from member where member_email=#{userId}

</select>

<update id="editProfile">

update member set member_name=#{member_name}, member_gender=#{member_gender}, member_birth=#{member_birth}, member_phone=#{member_phone},member_location=#{member_location},member_introduction=#{member_introduction} where member_email=#{member_email}

</update>


<select id="getPhoto" parameterType="Member" resultType="Member">

select * from member where member_email=#{userId}

</select>

<select id="countHouse" resultType="int">
select count(home_name) from home where member_email=#{userId}
</select>

<select id="getHouse" resultType="ProfileHomePic">
select h.home_seq,h.home_name,p.home_pic_name from home h,home_pic p  where h.home_seq=p.home_seq and h.member_email=#{userId} order by h.home_seq
</select>

<select id="getReviewInfo" resultType="Reservation">
select * from reservation where member_email=#{userId} and reserv_checkout>=to_char(sysdate,'yyyy-mm-dd') and guest_review='N'
</select>

<select id="getHomePhoto" resultType="HomePic">
select home_pic_name from home_pic where home_seq=#{home_seq}


</select>

<select id="getMemberEmail" resultType="Home">
select member_email from home where home_seq=#{home_seq}
</select>



</mapper>
